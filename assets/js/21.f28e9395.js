(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{376:function(t,s,a){"use strict";a.r(s);var n=a(44),c=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"移动端click事件延时"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动端click事件延时"}},[t._v("#")]),t._v(" 移动端click事件延时")]),t._v(" "),a("p",[t._v("在移动端使用click事件会产生300ms的延迟")]),t._v(" "),a("p",[t._v("问题的产生：移动端存在双击放大的问题，所以在移动端点击事件发生时，为了判断用户的行为（到底是要双击还是要点击），浏览器通常会等待300ms，如果300ms之内，用户没有再次点击，则判定为点击事件，否则判定为双击缩放。")]),t._v(" "),a("p",[t._v("为什么要解决：现代web对性能的极致追求，对用户体验的高标准，让着300ms的卡顿变得难以接受")]),t._v(" "),a("p",[t._v("如何解决：")]),t._v(" "),a("p",[t._v("1、user-scalable:no  禁止缩放——没有缩放就不存在双击，也就没有点击延迟")]),t._v(" "),a("p",[t._v("2、指针事件：CSS：-ms-touch-action:none   点击后浏览器不会启用缩放操作，也就不存在延迟。然而这种方法兼容性很不好。")]),t._v(" "),a("p",[t._v("3、FastClick库：针对这个问题所开发的轻量级库。FastClick在检测到touchend事件后，会立即触发一个模拟的click事件，并把300ms后真正的click事件阻止掉")]),t._v(" "),a("p",[t._v("用法：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 虽然可以绑定到更具体的元素，但绑定到body上能使整个应用都受益")]),t._v("\n  FastClick"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("当FastClick检测到页面中使用了user-scalable:no或者touch-action:none方案时，会静默退出。")])])}),[],!1,null,null,null);s.default=c.exports}}]);